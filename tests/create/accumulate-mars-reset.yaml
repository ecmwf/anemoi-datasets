dates:
  frequency: 6h
  start: 2014-06-02 00:00:00
  end: 2014-06-02 06:00:00

# https://apps.ecmwf.int/mars-catalogue/?stream=oper&levtype=sfc&expver=1&month=aug&year=2020&type=fc&class=ea
# time : 6 18
# step : 0/to/18/by/1

input:
  accumulate:
    period: 1h

    availability:
      base_date:
         day_of_month: 1
      base_time: 0
      steps: 0-1/0-2/0-3/0-4/0-5/0-6/0-7/0-8/0-9/0-10/0-11/0-12/0-13/0-14/0-15/0-16/0-17/0-18/0-19/0-20/0-21/0-22/0-23/0-24/24-25/24-26/24-27/24-28/24-29/24-30/24-31/24-32/24-33/24-34/24-35/24-36/24-37/24-38/24-39/24-40/24-41/24-42/24-43/24-44/24-45/24-46/24-47/24-48/48-49/48-50/48-51/48-52/48-53/48-54/48-55/48-56/48-57/48-58/48-59/48-60/48-61/48-62/48-63/48-64/48-65/48-66/48-67/48-68/48-69/48-70/48-71/48-72/72-73/72-74/72-75/72-76/72-77/72-78/72-79/72-80/72-81/72-82/72-83/72-84/72-85/72-86/72-87/72-88/72-89/72-90/72-91/72-92/72-93/72-94/72-95/72-96/96-97/96-98/96-99/96-100/96-101/96-102/96-103/96-104/96-105/96-106/96-107/96-108/96-109/96-110/96-111/96-112/96-113/96-114/96-115/96-116/96-117/96-118/96-119/96-120/120-121/120-122/120-123/120-124/120-125/120-126/120-127/120-128/120-129/120-130/120-131/120-132/120-133/120-134/120-135/120-136/120-137/120-138/120-139/120-140/120-141/120-142/120-143/120-144/144-145/144-146/144-147/144-148/144-149/144-150/144-151/144-152/144-153/144-154/144-155/144-156/144-157/144-158/144-159/144-160/144-161/144-162/144-163/144-164/144-165/144-166/144-167/144-168/168-169/168-170/168-171/168-172/168-173/168-174/168-175/168-176/168-177/168-178/168-179/168-180/168-181/168-182/168-183/168-184/168-185/168-186/168-187/168-188/168-189/168-190/168-191/168-192/192-193/192-194/192-195/192-196/192-197/192-198/192-199/192-200/192-201/192-202/192-203/192-204/192-205/192-206/192-207/192-208/192-209/192-210/192-211/192-212/192-213/192-214/192-215/192-216/216-217/216-218/216-219/216-220/216-221/216-222/216-223/216-224/216-225/216-226/216-227/216-228/216-229/216-230/216-231/216-232/216-233/216-234/216-235/216-236/216-237/216-238/216-239/216-240/240-241/240-242/240-243/240-244/240-245/240-246/240-247/240-248/240-249/240-250/240-251/240-252/240-253/240-254/240-255/240-256/240-257/240-258/240-259/240-260/240-261/240-262/240-263/240-264/264-265/264-266/264-267/264-268/264-269/264-270/264-271/264-272/264-273/264-274/264-275/264-276/264-277/264-278/264-279/264-280/264-281/264-282/264-283/264-284/264-285/264-286/264-287/264-288/288-289/288-290/288-291/288-292/288-293/288-294/288-295/288-296/288-297/288-298/288-299/288-300/288-301/288-302/288-303/288-304/288-305/288-306/288-307/288-308/288-309/288-310/288-311/288-312/312-313/312-314/312-315/312-316/312-317/312-318/312-319/312-320/312-321/312-322/312-323/312-324/312-325/312-326/312-327/312-328/312-329/312-330/312-331/312-332/312-333/312-334/312-335/312-336/336-337/336-338/336-339/336-340/336-341/336-342/336-343/336-344/336-345/336-346/336-347/336-348/336-349/336-350/336-351/336-352/336-353/336-354/336-355/336-356/336-357/336-358/336-359/336-360/360-361/360-362/360-363/360-364/360-365/360-366/360-367/360-368/360-369/360-370/360-371/360-372/360-373/360-374/360-375/360-376/360-377/360-378/360-379/360-380/360-381/360-382/360-383/360-384/384-385/384-386/384-387/384-388/384-389/384-390/384-391/384-392/384-393/384-394/384-395/384-396/384-397/384-398/384-399/384-400/384-401/384-402/384-403/384-404/384-405/384-406/384-407/384-408/408-409/408-410/408-411/408-412/408-413/408-414/408-415/408-416/408-417/408-418/408-419/408-420/408-421/408-422/408-423/408-424/408-425/408-426/408-427/408-428/408-429/408-430/408-431/408-432/432-433/432-434/432-435/432-436/432-437/432-438/432-439/432-440/432-441/432-442/432-443/432-444/432-445/432-446/432-447/432-448/432-449/432-450/432-451/432-452/432-453/432-454/432-455/432-456/456-457/456-458/456-459/456-460/456-461/456-462/456-463/456-464/456-465/456-466/456-467/456-468/456-469/456-470/456-471/456-472/456-473/456-474/456-475/456-476/456-477/456-478/456-479/456-480/480-481/480-482/480-483/480-484/480-485/480-486/480-487/480-488/480-489/480-490/480-491/480-492/480-493/480-494/480-495/480-496/480-497/480-498/480-499/480-500/480-501/480-502/480-503/480-504/504-505/504-506/504-507/504-508/504-509/504-510/504-511/504-512/504-513/504-514/504-515/504-516/504-517/504-518/504-519/504-520/504-521/504-522/504-523/504-524/504-525/504-526/504-527/504-528/528-529/528-530/528-531/528-532/528-533/528-534/528-535/528-536/528-537/528-538/528-539/528-540/528-541/528-542/528-543/528-544/528-545/528-546/528-547/528-548/528-549/528-550/528-551/528-552/552-553/552-554/552-555/552-556/552-557/552-558/552-559/552-560/552-561/552-562/552-563/552-564/552-565/552-566/552-567/552-568/552-569/552-570/552-571/552-572/552-573/552-574/552-575/552-576/576-577/576-578/576-579/576-580/576-581/576-582/576-583/576-584/576-585/576-586/576-587/576-588/576-589/576-590/576-591/576-592/576-593/576-594/576-595/576-596/576-597/576-598/576-599/576-600/600-601/600-602/600-603/600-604/600-605/600-606/600-607/600-608/600-609/600-610/600-611/600-612/600-613/600-614/600-615/600-616/600-617/600-618/600-619/600-620/600-621/600-622/600-623/600-624/624-625/624-626/624-627/624-628/624-629/624-630/624-631/624-632/624-633/624-634/624-635/624-636/624-637/624-638/624-639/624-640/624-641/624-642/624-643/624-644/624-645/624-646/624-647/624-648/648-649/648-650/648-651/648-652/648-653/648-654/648-655/648-656/648-657/648-658/648-659/648-660/648-661/648-662/648-663/648-664/648-665/648-666/648-667/648-668/648-669/648-670/648-671/648-672/672-673/672-674/672-675/672-676/672-677/672-678/672-679/672-680/672-681/672-682/672-683/672-684/672-685/672-686/672-687/672-688/672-689/672-690/672-691/672-692/672-693/672-694/672-695/672-696/696-697/696-698/696-699/696-700/696-701/696-702/696-703/696-704/696-705/696-706/696-707/696-708/696-709/696-710/696-711/696-712/696-713/696-714/696-715/696-716/696-717/696-718/696-719/696-720
      # steps = []
      # for start in range(0, 720, 24):
      #     for end in range(start + 1, start + 25):
      #         steps.append(f"{start}-{end}")
      # print("/".join(steps))
    patch:
      # because the data wrongly encode start_step as 0 even after 24
      set_start_step_from_end_step_ceiled_to_24_hours: True

    source:
      mars:
        class: rd
        stream: oper
        type: fc
        expver: i6aj
        # grid: o400
        levtype: sfc
        #param:
        #- slhf
        #- sshf
        #- aco2gpp
        #- aco2nee
        #- aco2rec
        param: [tp]
        # param: [aco2gpp]
        # param: [81.228] -> need to add use_grib_paramid
        number: 0
        # param: [81.228, 80.228, 82.228, 147, 146]

build:
   use_grib_paramid: True

statistics:
  allow_nans: True

checks:
  none: {}
